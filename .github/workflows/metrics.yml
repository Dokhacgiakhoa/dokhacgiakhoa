# Tên của workflow, hiển thị trong tab Actions
name: Build and Deploy GitHub Metrics

# Kích hoạt workflow này theo lịch trình
on:
  # Chạy theo lịch trình mỗi 12 giờ (định dạng cron: phút giờ ngày_trong_tháng tháng ngày_trong_tuần)
  schedule:
    - cron: '0 0,12 * * *'
  # Cho phép chạy thủ công từ tab Actions
  workflow_dispatch:
  # Chạy khi có push lên nhánh main/master
  push: {branches: ["main", "master"]}

# Định nghĩa các công việc (jobs)
jobs:
  github-metrics:
    # Chạy trên môi trường Ubuntu
    runs-on: ubuntu-latest
    
    # Các bước thực hiện
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # (BẮT BUỘC) GitHub Token để truy cập dữ liệu (sử dụng token mặc định)
          token: ${{ secrets.GITHUB_TOKEN }}
          
          # (BẮT BUỘC) Tên người dùng mà bạn muốn hiển thị chỉ số
          user: dokhacgiakhoa
          
          # Tệp đầu ra sẽ được tạo ra, sử dụng tên được đặt trong README.md
          filename: github-metrics.svg
          
          # Cấu hình chủ đề (theme)
          base: header, activity, community, repositories, metadata
          
          # Ngôn ngữ hiển thị
          config_language: vi
          
          # Hiển thị các hoạt động theo thời gian
          plugin_activity: yes
          plugin_activity_limit: 5
          
          # Thêm các chỉ số bổ sung nếu bạn muốn:
          # plugin_stargazers: yes # Các repo đã gắn sao của bạn
          # plugin_followup: yes  # Các vấn đề/PR mà bạn đang theo dõi
          # plugin_wakatime: yes # Nếu bạn sử dụng WakaTime (cần cấu hình thêm token)
          # ... xem tài liệu của metrics để biết thêm: https://github.com/lowlighter/metrics
